# Vim

https://linux265.com/course/vim-cursor-movement.html

## 0. 配置

对于VSCode：

```
"vim.handleKeys": {
    "<C-a>": false,
    "<C-f>": false,
    "<C-n>": false,
    "<C-w>": false
}, # Vim中的CTRL + a 等不会被应用
```

## 1. 回退命令行

【:w】 保存文件
【:w!】 若文件为只读，强制保存文件
【:q】 离开vi
【:q!】 不保存强制离开vi
【:wq】 保存后离开
【:wq!】 强制保存后离开

## 2. 快速操作

|              |                      |
| :----------: | -------------------- |
|      A       | 迅速跳转行尾编辑     |
| k enter or ^ | 快速回到有字符的行首 |
|      yw      | 复制某个单词         |
|  ysw" or S"  | 添加双引号           |
|      .       | 重复上一个动作       |
|  ve or viw   | 选中某个单词         |
|    ~ or U    | 改变大小写           |

## 3. 复制粘贴

如果要把数据从vim拷贝到系统剪切板，需要在**visual模式**下执行

```
"+y
```

从浏览器Ctrl+c后，要粘贴到vim中，则需要

```
"+p
```

- `"`号粘贴板（临时粘贴板）比较特殊，直接按 `y` 就复制到这个粘贴板中了，直接按 `p` 就粘贴这个粘贴板中的内容

- `+` 号粘贴板是系统粘贴板，用 `"+y` 将内容复制到该粘贴板后可以使用 `ctrl＋v` 将其粘贴到其他文档（如 firefox、gedit）中，同理，要把在其他地方用 `ctrl＋c` 或右键复制的内容复制到 vim 中，需要在正常模式下按 `"+p`

- `*`：当前选择缓冲区，`"*yy`把当前行的内容放入当前选择缓冲区。

| 表示符号                  |                  名称                  | 作用                                                         |
| :------------------------ | :------------------------------------: | :----------------------------------------------------------- |
| `""`                      |         无名（unnamed）寄存器          | 缓存最后一次操作内容                                         |
| `"0` ～ `"9`              |         数字（numbered）寄存器         | 缓存最近操作内容，复制与删除有别，`"0`寄存器缓存最近一次复制的内容，`"1`-`"9`缓存最近9次删除内容 |
| `"-`                      |     行内删除（small delete）寄存器     | 缓存行内删除内容                                             |
| `"a` ～ `"z`或`"A` - `"Z` |          具名（named）寄存器           | 可用于主动指定                                               |
| `":`, `".`, `"%`, `"#`    |        只读（read-only）寄存器         | 分别缓存最近命令、最近插入文本、当前文件名、当前交替文件名   |
| `"=`                      |       表达式（expression）寄存器       | 用于执行表达式命令                                           |
| `"*`, `"+`, `"~`          | 选择及拖拽（selection and drop）寄存器 | 存取GUI选择文本，可用于与外部应用交互                        |
| `"_`                      |        黑洞（black hole）寄存器        | 不缓存操作内容（干净删除）                                   |
| `"/`                      |   模式寄存器（last search pattern）    | 缓存最近的搜索模式                                           |

利用`:reg`查看。

自定义Vim启动时候dashboard内容

- 获取图案表示[Spring Boot banner在线生成工具](https://gitee.com/link?target=https%3A%2F%2Fwww.bootschool.net%2Fascii),选择类型为`ANSI Shadow`
- 获取Vim形式[vim-dashboard-header-make](https://chenxuan520.gitee.io/chenxuanweb/header.html)(花了一点自己时间做的,因为不怎么写前端,画面比较差)
- 将得到的结果复制到.vimrc中

ZZ：退出Vim；如果文件被修改，则先保存文件再退出。(等价于 :x 命令)

ZQ：强制退出Vim，不保存任何修改。(等价于 :q! 命令)，

## 4. 分屏操作

- `ctrl-w s`快捷键可以将当前窗口进行水平分割；把当前窗口分割成水平分布的两个窗口。 (`Ctrl-w v`或`ctrl-w ctrl-v`)
- `ctrl+w +` –当前窗口增高一行。也可以用n增高n行。`ctrl+w -` –当前窗口减小一行。也可以用n减小n行。`ctrl+w =` – 所有窗口同样高度。
- `ctrl+w ctrl+w`: 切换到下一个窗口，或者是`ctrl+w w`。
    - `ctrl+w H(L,K,J)`: 将当前窗口移动到最左（右、上、下）面。
    - `ctrl+w h(l,j,k)`:切换到左（右，下，上）的窗口。